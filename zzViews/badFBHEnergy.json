{
    "settings": {
        "style": {
            "background_class": ""
        },
        "theme": "redmond",
        "sizex": "345",
        "sizey": "590",
        "hideDescription": false,
        "gridSize": "",
        "useBackground": false,
        "snapType": null
    },
    "widgets": {
        "e00001": {
            "tpl": "tplHtml",
            "data": {
                "visibility-cond": "==",
                "visibility-val": 1,
                "refreshInterval": "0",
                "html": "You can install more widget-sets and icon-sets (over 20)",
                "name": "Comment"
            },
            "style": {
                "left": "50%",
                "top": "calc(100% - 50px)",
                "width": "50%",
                "height": "42px",
                "color": "#ffffff",
                "font-family": "Arial, sans-serif"
            },
            "widgetSet": "basic"
        },
        "e00002": {
            "tpl": "tplVis-materialdesign-Table",
            "data": {
                "oid": "schlueter-fbh.0.77093.Thermostats.1191137.energyLastCallResult",
                "g_fixed": false,
                "g_visibility": false,
                "g_css_font_text": false,
                "g_css_background": false,
                "g_css_shadow_padding": false,
                "g_css_border": false,
                "g_gestures": false,
                "g_signals": false,
                "g_last_change": false,
                "visibility-cond": "==",
                "visibility-val": 1,
                "visibility-groups-action": "hide",
                "countCols": "2",
                "tableLayout": "standard",
                "showHeader": "true",
                "roundBorder": "true",
                "headerTextSize": "body1",
                "headerFontFamily": "#mdwTheme:vis-materialdesign.0.fonts.table.header",
                "colorBackground": "#mdwTheme:vis-materialdesign.0.colors.table.background",
                "colorHeaderRowBackground": "#mdwTheme:vis-materialdesign.0.colors.table.row_header_background",
                "colorHeaderRowText": "#mdwTheme:vis-materialdesign.0.colors.table.row_header_text",
                "colorRowBackground": "#mdwTheme:vis-materialdesign.0.colors.table.row_background",
                "colorRowBackgroundHover": "#mdwTheme:vis-materialdesign.0.colors.table.row_hover",
                "colorRowText": "#mdwTheme:vis-materialdesign.0.colors.table.row_text",
                "borderColor": "#mdwTheme:vis-materialdesign.0.colors.table.border",
                "dividers": "#mdwTheme:vis-materialdesign.0.colors.table.dividers",
                "showColumn0": "true",
                "colType0": "text",
                "textAlign0": "center",
                "colTextSize0": "#mdwTheme:vis-materialdesign.0.fontSizes.table.row",
                "fontFamily0": "#mdwTheme:vis-materialdesign.0.fonts.table.row",
                "showColumn1": "true",
                "colType1": "text",
                "textAlign1": "center",
                "colTextSize1": "#mdwTheme:vis-materialdesign.0.fontSizes.table.row",
                "fontFamily1": "#mdwTheme:vis-materialdesign.0.fonts.table.row",
                "signals-cond-0": "==",
                "signals-val-0": true,
                "signals-icon-0": "/vis/signals/lowbattery.png",
                "signals-icon-size-0": 0,
                "signals-blink-0": false,
                "signals-horz-0": 0,
                "signals-vert-0": 0,
                "signals-hide-edit-0": false,
                "signals-cond-1": "==",
                "signals-val-1": true,
                "signals-icon-1": "/vis/signals/lowbattery.png",
                "signals-icon-size-1": 0,
                "signals-blink-1": false,
                "signals-horz-1": 0,
                "signals-vert-1": 0,
                "signals-hide-edit-1": false,
                "signals-cond-2": "==",
                "signals-val-2": true,
                "signals-icon-2": "/vis/signals/lowbattery.png",
                "signals-icon-size-2": 0,
                "signals-blink-2": false,
                "signals-horz-2": 0,
                "signals-vert-2": 0,
                "signals-hide-edit-2": false,
                "lc-type": "last-change",
                "lc-is-interval": true,
                "lc-is-moment": false,
                "lc-format": "",
                "lc-position-vert": "top",
                "lc-position-horz": "right",
                "lc-offset-vert": 0,
                "lc-offset-horz": 0,
                "lc-font-size": "12px",
                "lc-font-family": "",
                "lc-font-style": "",
                "lc-bkg-color": "",
                "lc-color": "",
                "lc-border-width": "0",
                "lc-border-style": "",
                "lc-border-color": "",
                "lc-border-radius": 10,
                "lc-zindex": 0,
                "showColumn2": "true",
                "colType2": "text",
                "textAlign2": "center",
                "colTextSize2": "#mdwTheme:vis-materialdesign.0.fontSizes.table.row",
                "fontFamily2": "#mdwTheme:vis-materialdesign.0.fonts.table.row",
                "label0": "Date",
                "columnWidth1": "",
                "label1": "Time",
                "columnWidth2": "",
                "label2": "kw/h",
                "fixedHeader": true,
                "rowHeight": "30"
            },
            "style": {
                "left": "0px",
                "top": "89px",
                "width": "335px",
                "height": "446px"
            },
            "widgetSet": "materialdesign"
        },
        "e00003": {
            "tpl": "tplHtml",
            "data": {
                "g_fixed": false,
                "g_visibility": false,
                "g_css_font_text": false,
                "g_css_background": false,
                "g_css_shadow_padding": false,
                "g_css_border": false,
                "g_gestures": false,
                "g_signals": false,
                "g_last_change": false,
                "visibility-cond": "==",
                "visibility-val": 1,
                "visibility-groups-action": "hide",
                "refreshInterval": "0",
                "signals-cond-0": "==",
                "signals-val-0": true,
                "signals-icon-0": "/vis/signals/lowbattery.png",
                "signals-icon-size-0": 0,
                "signals-blink-0": false,
                "signals-horz-0": 0,
                "signals-vert-0": 0,
                "signals-hide-edit-0": false,
                "signals-cond-1": "==",
                "signals-val-1": true,
                "signals-icon-1": "/vis/signals/lowbattery.png",
                "signals-icon-size-1": 0,
                "signals-blink-1": false,
                "signals-horz-1": 0,
                "signals-vert-1": 0,
                "signals-hide-edit-1": false,
                "signals-cond-2": "==",
                "signals-val-2": true,
                "signals-icon-2": "/vis/signals/lowbattery.png",
                "signals-icon-size-2": 0,
                "signals-blink-2": false,
                "signals-horz-2": 0,
                "signals-vert-2": 0,
                "signals-hide-edit-2": false,
                "lc-type": "last-change",
                "lc-is-interval": true,
                "lc-is-moment": false,
                "lc-format": "",
                "lc-position-vert": "top",
                "lc-position-horz": "right",
                "lc-offset-vert": 0,
                "lc-offset-horz": 0,
                "lc-font-size": "12px",
                "lc-font-family": "",
                "lc-font-style": "",
                "lc-bkg-color": "",
                "lc-color": "",
                "lc-border-width": "0",
                "lc-border-style": "",
                "lc-border-color": "",
                "lc-border-radius": 10,
                "lc-zindex": 0,
                "html": "<style>\n    /* Style the select box */\n    #engTyp, #engCount, #datepicker {\n        width: 150px;\n        padding: 4px 10px;\n        font-size: 14px;\n        color: #333;\n        border: 2px solid #4CAF50;\n        border-radius: 5px;\n        background-color: #f9f9f9;\n        appearance: none; /* Remove default arrow for most browsers */\n        -moz-appearance: none;\n        -webkit-appearance: none;\n        background-image: url('data:image/svg+xml;charset=UTF-8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 140 140\"><polygon points=\"70,100 40,50 100,50\" style=\"fill:%234CAF50;\"/></svg>');\n        background-repeat: no-repeat;\n        background-position: right 10px center;\n        background-size: 10px;\n        cursor: pointer;\n    }\n    \n    #engCount{\n        width: 75px;\n    }\n\n    #datepicker{\n        width: 120px;\n    }\n    \n\n    /* Style on hover and focus */\n    #engTyp:hover {\n        border-color: #2e7d32;\n    }\n\n    #engTyp:focus {\n        outline: none;\n        border-color: #1b5e20;\n        box-shadow: 0 0 5px rgba(0, 128, 0, 0.5);\n    }\n</style>\n<div style=\"width: 200px; float: left;\">\n    <label for=\"engTyp\">Typ:</label>\n    <select id=\"engTyp\">\n        <option value=\"1\">Tag</option>\n        <option value=\"2\">Woche</option>\n        <option value=\"4\">Jahr</option>\n    </select>\n</div>\n<div>\n    <label for=\"engCount\">Anzahl:</label>\n    <select id=\"engCount\">\n        <option value=\"0\">1</option>\n        <option value=\"2\">2</option>\n        <option value=\"3\">3</option>\n        <option value=\"4\">4</option>\n    </select>\n</div>\n<div style=\"width: 200px; float: left;\"><p></p>Date: <input type=\"text\" id=\"datepicker\"><p></p></div>\n<div>\n    <p><div id=\"btnQuery\" class='vis-widget materialdesign-widget materialdesign-button materialdesign-button-html-element'\n\tstyle='width: 90px; height: 30px; position: relative; padding: 0px; float: right;'\n\tmdw-type='state_default'\n\tmdw-oid='nothing_selected'\n\tmdw-buttonStyle='raised'\n\tmdw-vibrateOnMobilDevices='50'\n\tmdw-buttontext='Query'\n\tmdw-textFontFamily='#mdwTheme:vis-materialdesign.0.fonts.button.default.text'\n\tmdw-textFontSize='#mdwTheme:vis-materialdesign.0.fontSizes.button.default.text'\n\tmdw-mdwButtonPrimaryColor='#mdwTheme:vis-materialdesign.0.colors.button.default.primary'\n\tmdw-mdwButtonSecondaryColor='#mdwTheme:vis-materialdesign.0.colors.button.default.secondary'\n\tmdw-iconPosition='left'\n\tmdw-autoLockAfter='10'\n\tmdw-lockIconColor='#mdwTheme:vis-materialdesign.0.colors.button.lock_icon'\n\tmdw-lockFilterGrayscale='30'\n></div></p>\n</div>\n\n\n\n<script>\n    $(\"#datepicker\").datepicker({\n      dateFormat: \"yy-mm-dd\"\n    });\n\n    let query = {\n        APIKEY: \"f219aab4-9ac0-4343-8422-b72203e2fac9\",\n        ThermostatID: \"1191137\",\n        DateTime: \"2024-11-17T12:00:00\",\n        History: 1,\n        ViewType: 1\n    }\n    \n    // Select the dropdown element\n    const typElement = document.getElementById('engTyp');\n    const typCount = document.getElementById('engCount');\n    const btnQuery = document.getElementById('btnQuery');\n    \n    // Define the function to handle the change event\n    function onSelectChange(event) {\n        const selectedDate = $(\"#datepicker\").datepicker('getDate');\n        const formattedDate = $.datepicker.formatDate('yy-mm-dd', selectedDate) + 'T12:00:00';\n        query.ViewType = typElement.value;\n        query.History = typCount.value;\n        query.DateTime = formattedDate;\n        \n        console.log(JSON.stringify(query, null, 2));\n    }\n    \n    function refreshEnergy(){\n        const stateId = window.schFBHThermPath + \"energyLastCallQuery\";\n        console.log(JSON.stringify(query, null, 2));\n        vis.setValue(stateId, JSON.stringify(query, null, 2))\n    }\n\n    // Add event listener to the select element for change events\n    typElement.addEventListener('change', onSelectChange);\n    typCount.addEventListener('change', onSelectChange);\n    $(\"#datepicker\").on('change', function(){\n        onSelectChange();\n    });\n    btnQuery.addEventListener('click', refreshEnergy);\n    \n    $('#datepicker').datepicker('setDate', new Date());\n    \n    onSelectChange();\n    refreshEnergy();\n    \n</script>"
            },
            "style": {
                "left": "2px",
                "top": "6px",
                "width": "335px",
                "height": "77px"
            },
            "widgetSet": "basic"
        }
    },
    "rerender": false,
    "filterList": [],
    "name": "badFBHEnergy"
}